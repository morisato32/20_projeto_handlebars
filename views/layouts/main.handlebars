<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/css/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Mukta:wght@300;400&family=Rubik:ital,wght@0,400;1,300&display=swap" rel="stylesheet">
    <title>HallBooks</title>
    <link rel="icon" type="image/x-icon" href="../../svg/logo.svg">
</head>

<body>
    {{#if successMessage}}
    <div class="alert alert-success message">{{successMessage}}</div>
    {{/if}}

    <header>
        {{!-- ============== NAVBAR DESKTOP ============== --}}
        <nav class="navbar-desktop">
            <div class="nav-item-left">
                <div class="logo">
                    <a href="/">
                        <img src="../../svg/logo.svg" class="logo-svg" alt="logo do site">
                    </a>
                </div>

                <ul class="menu-desktop">
                    <li class="menu-item-desktop">
                        <a href="/" class="menu-desktop-link">Home</a>
                    </li>

                    <li class="menu-item-desktop">
                        <a href="/#about" class="menu-desktop-link">Sobre</a>
                    </li>

                    {{#if session}}
                        {{#if session.imagem}}
                            <li class="menu-item-desktop" style="display: none;">
                                <a href="/user/cadastrar" class="menu-desktop-link">Cadastre-se</a>
                            </li>

                            <li class="menu-item-desktop">
                                <a href="/form" class="menu-desktop-link">Cadastrar Livros</a>
                            </li>
                            
                        {{else}}
                            <li class="menu-item-desktop">
                                <a href="/user/cadastrar" class="menu-desktop-link">Cadastre-se</a>
                            </li>

                            <li class="menu-item-desktop" style="display: none;">
                                <a href="/form" class="mt-3 menu-desktop-link" >Cadastrar Livros</a>
                            </li>
                        {{/if}}
                    {{/if}}

                    <li class="menu-item-desktop">
                        <a href="/books" class="menu-desktop-link">Livros</a>
                    </li>
                </ul>
            </div>


            <div class="nav-item-right flex-end">
                <div class="search">
                    <form class="flex-start">
                        <input type="text" name="search" class="search-input" placeholder="Buscar livros">
                        <button class="search-button"></button>
                    </form>
                </div>
            
                {{#if session}}
                    {{#if session.imagem}}      
                        <div class="ml-3 profile-container ">                 
                            <div class="profile">
                                <img class="profile-img" src="data:image/png;base64,{{session.imagem}}" usemap="opcoes">
                            </div>

                            <ul class="dropdown-menu">
                                    <li class="dropdown-item">
                                        <a href="/form" class="dropdown-link">Cadastrar livros</a>
                                    </li>

                                    <li class="dropdown-item">
                                        <a href="/user/edit" class="dropdown-link">Editar perfil</a>
                                    </li>

                                    <li class="dropdown-item">
                                        <a href="/books/edit/:id" class="dropdown-link">Meus livros</a>
                                    </li>

                                    <li class="dropdown-item">
                                        <a href="/user/logout" class="dropdown-link">Sair</a>
                                    </li>
                                </ul>
                        </div>
                        
                {{else}}
                    <div class="login ml-3">
                        <a href="/user/login" class="btn-login">Login</a>
                    </div>
                {{/if}}
                    {{else}}
                        <img src="/img/perfil.webp">
                    {{/if}}
            </div>
        </nav>

        {{!-- ============== NAVBAR MOBILE ============== --}}
        <nav class="navbar-mobile">
            <div class="bx"></div>

            <div class="logo">
                <a href="/">
                    <img src="../../svg/logo.svg" class="logo-svg" alt="logo do site">
                </a>
            </div>

            <div>
                <a href="/user/login" class="btn-login">Login</a>
            </div>
        </nav>
    </header>

        {{!-- ============== MENU MOBILE ============== --}}
    <div class='relative'>
        <div class='menu-mobile'>
            <ul class='nav-mobile'>
                <li> 
                    <a href="/" class="link-menu-mobile">Home</a> 
                </li>

                {{#if session}}
                        {{#if session.imagem}}

                            <li style="display: none;">
                                <a href="/user/cadastrar" class="link-menu-mobile">Cadastre-se</a>
                            </li>

                            <li>
                                <a href="/form" class="link-menu-mobile">Cadastrar Livros</a>
                            </li>
                            
                        {{else}}
                            <li>
                                <a href="/user/cadastrar" class="link-menu-mobile">Cadastre-se</a>
                            </li>

                            <li>
                                <a href="/form" style="display: none;" class="link-menu-mobile">Cadastrar Livros</a>
                            </li>
                        {{/if}}
                    {{/if}}
                    
                    <li>
                        <a href="/books" class="link-menu-mobile">Livros</a>
                    </li>

                <li class='px-2 py-2'>
                    <form class="flex-start">
                        <input type="text" name="search" class="search-input" placeholder="Buscar livros">
                        <button class="search-button"></button>
                    </form>
                </li>
            </ul>
            
        </div>
    </div>


    {{{body}}}


    <footer>
        <section class="container py-0">
            <div class="row">
                <div class="grid-4 mt-3 disappear"></div>

                <div class="grid-4 mt-3 flex-center">
                    <div class="logo">
                        <img src="../../svg/logo.svg" class="logo-svg" alt="logo do site">
                    </div>
                    <h4 class="ml-1 text-white">HallBooks</h4>
                </div>

                <div class="grid-4 mt-3 disappear"></div>
            </div>

            <div class="row">
                <div class="grid-6 flex-start-column py-0">
                    <h5 class="text-green">Deixou passar algo?</h5>

                    <ul class="flex-start footer-menu mt-1">
                        <li class="footer-menu-item">
                            <a href="/" class="footer-menu-link">Home</a>
                        </li>

                        <li class="footer-menu-item">
                            <a href="/#about" class="footer-menu-link">Sobre</a>
                        </li>

                        {{#if session}}
                            {{#if session.imagem}}
                                <li class="footer-menu-item" style="display: none;">
                                    <a href="/user/cadastrar" class="footer-menu-link" 
                                    >Cadastre-se</a>
                                </li>

                                <li class="footer-menu-item">
                                    <a href="/form" class="footer-menu-link">Cadastrar Livros</a>
                                </li>

                        {{else}}
                            <li class="footer-menu-item" style="display: none;">
                                <a href="/form" class="footer-menu-link" 
                                >Cadastrar Livros</a>
                            </li>
                            
                            <li class="footer-menu-item">
                                <a href="/user/cadastrar" class="footer-menu-link">Cadastre-se</a>
                            </li>

                            
                        {{/if}}
                            {{/if}}

                        <li class="footer-menu-item">
                            <a href="/books" class="footer-menu-link">Livros</a>
                        </li>
                    </ul>
                </div>

                <div class="grid-3 disappear"></div>

                <div class="grid-3 flex-center-column py-1">
                    <h5 class="text-green">Algum livro em mente?</h5>

                    <div class="search mt-1">
                        <form class="flex-start">
                            <input type="text" name="search" class="search-input" placeholder="Buscar livros">
                            <button class="search-button"></button>
                        </form>
                    </div>
                </div>
            </div>

            <div class="row bt-gray mt-4">
                <div class="grid-12 py-3">
                    <p class="text-white">2023 © Todos os Direitos Reservados.</p>
                </div>
            </div>
        </section>
    </footer>



    <script src="../../js/mensagemDeSucesso.js"></script>
    <script src="../../js/submenuHeader.js"></script>
    <script src="../../js/dropdown.js"></script>
    <script src="../../js/menuMobile.js"></script>

</body>

</html>